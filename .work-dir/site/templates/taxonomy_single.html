{% extends "base.html" %}

{% block title %}{{ term.name }} | {{ config.title }}{% endblock %}

{% block head_extra %}
<link rel="alternate" type="application/atom+xml" title="{{ term.name }} TILs" href="{{ get_url(path=term.path ~ "/atom.xml") }}">
{% endblock %}

{% block content %}
<main id="main-content" class="container home-shell" data-pagefind-ignore>
  <section class="section-header">
    <h1>{{ term.name }}</h1>
    <p class="subline">{{ term.pages | length }} TIL{% if term.pages | length != 1 %}s{% endif %} in this topic Â· <a href="{{ get_url(path=term.path ~ "/atom.xml") }}">RSS</a></p>
    <p><a href="{{ get_url(path="/topics") }}">&larr; All topics</a></p>
  </section>

  <section class="til-list">
    {% for page in term.pages | sort(attribute="date") | reverse %}
    <article class="til-item">
      <div class="til-headline">
        <a class="til-topic-pill" href="{{ term.permalink }}">{{ term.name }}</a>
        <a class="til-title" href="{{ page.permalink }}">
          {{ page.title }}
        </a>
        <time
          class="til-date"
          datetime="{{ page.date | date(format="%Y-%m-%d") }}"
          >{{ page.date | date(format="%Y-%m-%d") }}</time
        >
      </div>
      {% if page.summary %}
      <p>{{ page.summary | safe }}</p>
      {% endif %}
    </article>
    {% endfor %}
  </section>
</main>
{% endblock %}
