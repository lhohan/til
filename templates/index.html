{% extends "base.html" %} {% block content %}
<main class="container home-shell">
    <section class="hero hero--compact">
        <h1>Today I Learned</h1>
        <p class="subline">{{ config.description }}</p>

        {% set topics = get_taxonomy(kind="topics") %} {% if topics.items |
        length > 0 %}
        <div class="hero-topics">
            <span class="hero-topics-label">Browse:</span>
            <ul class="hero-topics-list">
                {% for term in topics.items %}
                <li>
                    <a href="{{ term.permalink }}">
                        {{ term.name }}
                        <span class="hero-topics-count"
                            >({{ term.pages | length }})</span
                        >
                    </a>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </section>
    <section class="til-list">
        <h2>Recent TILs</h2>
        {% set til_section = get_section(path="til/_index.md") %} {% for page in
        til_section.pages | sort(attribute="date") | reverse %} {% set
        first_topic = page.taxonomies.topics | first %} {% if first_topic %} {% set
        first_topic_url = get_taxonomy_url(kind="topics", name=first_topic) %}
        {% endif %}
        <article class="til-item">
            <div class="til-headline">
                {% if first_topic %}
                <a class="til-topic-pill" href="{{ first_topic_url }}"
                    >{{ first_topic }}</a
                >
                {% endif %}
                <a class="til-title" href="{{ page.permalink }}">
                    {{ page.title }}
                </a>
                <time class="til-date"
                    datetime="{{ page.date | date(format="%Y-%m-%d") }}"
                    >{{ page.date | date(format="%Y-%m-%d") }}</time
                >
            </div>
            {% if page.summary %}
            <p>{{ page.summary | safe }}</p>
            {% endif %}
        </article>
        {% endfor %}
    </section>
</main>
{% endblock %}
